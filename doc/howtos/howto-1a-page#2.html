<html>
<head>
<title>Boomerang Howto #1a: User clicks a link on a page we control and page is usable when onload fires</title>
<meta http-equiv="Content-type" value="text/html; charset=utf-8">
</head>
<body>
<h1>Boomerang Howto #1a: User clicks a link on a page we control and page is usable when onload fires</h1>
<p>
See use case #1 in <a href="../use-cases.txt">use-cases.txt</a> for a description of this requirement.
</p>
<p>
We use two pages for this use case.  This is page #2 of the example.  See <a href="howto-1a-page%231.html">Page #1</a>
for full explanation.
</p>

<p>
If you clicked the link to this page from <a href="howto-1a-page%231.html">Page #1</a>, you should see 
page performance results show up below.  It may take a while if this is the first time you're doing
the test since testing your bandwidth takes about 6 seconds.  You can also click the link to Page #1
to see the same output on Page #1.
</p>

<p id="results">
</p>

<script src="../../boomerang.js" type="text/javascript"></script>
<script type="text/javascript">
// Since we don't set a beacon_url, we'll just subscribe to the before_beacon function
// and print the results into the browser itself.
BOOMR.subscribe('before_beacon', function(o) {
	var html = "";
	if(o.t_done) { html += "This page took " + o.t_done + "ms to load<br>"; }
	if(o.bw) { html += "Your bandwidth is " + parseInt(o.bw/1024) + "kbps (±" + parseInt(o.bw_err*100/o.bw) + "%)<br>"; }
	if(o.lat) { html += "Your latency is " + parseInt(o.lat) + "±" + parseInt(o.lat_err) + "ms<br>"; }

	document.getElementById('results').innerHTML = html;
});
BOOMR.init({
		user_ip: '10.0.0.1',
		BW: {
			base_url: '../../images/',
			cookie: 'HOWTO-1a-BA'
		},
		RT: {
			cookie: 'HOWTO-1a-RT'
		}
	});
</script>
</body>
</html>
